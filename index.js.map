{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = \"46831660-d1aa08367accf9e9e1755dc5b\";\n \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function fetchImages(query, page = 1) {\n    try {\n        const response = await axios.get(`${BASE_URL}`, {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                page,\n                per_page: 15,\n            },\n        });\n\n        if (response.data.hits.length === 0) {\n            throw new Error(\"No images found\");\n        }\n        \n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        throw error;\n    }\n}\n\n\n\n     ","\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';  \n\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <div class=\"photo-card\">\n            <a href=\"${largeImageURL}\" data-lightbox=\"image\" data-title=\"${tags}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p><b>Likes:</b> ${likes}</p>\n                <p><b>Views:</b> ${views}</p>\n                <p><b>Comments:</b> ${comments}</p>\n                <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n        </div>\n    `).join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);  \n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n}","import { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n \nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const query = searchForm.elements.query.value.trim();\n\n    if (!query) {\n        iziToast.error({ title: 'Error', message: 'Please enter a search term.' });\n        return;\n    }\n\n    loader.style.display = 'block';  \n\n    fetchImages(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.info({ title: 'Info', message: 'Sorry, there are no images matching your search query. Please try again!' });\n            } else {\n                renderImages(images);\n              const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250      \n});\n                lightbox.refresh(); \n            }\n        })\n        .catch(error => {\n            iziToast.error({ title: 'Error', message: 'Something went wrong. Please try again.' });\n        })\n        .finally(() => {\n            loader.style.display = 'none';  \n        });\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","page","response","axios","error","renderImages","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","loader","event","iziToast","SimpleLightbox"],"mappings":"+vBACA,MAAMA,EAAU,qCAEVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAC/C,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAI,GAAGL,CAAQ,GAAI,CAC5C,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACb,CACb,CAAS,EAED,GAAIC,EAAS,KAAK,KAAK,SAAW,EAC9B,MAAM,IAAI,MAAM,iBAAiB,EAGrC,OAAOA,EAAS,IACnB,OAAQE,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CC3BO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAErFL,CAAa,uCAAuCC,CAAI;AAAA,4BACnDF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mCAGnBC,CAAK;AAAA,mCACLC,CAAK;AAAA,sCACFC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA;AAAA,KAG3C,EAAE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,CAClD,CCZA,MAAMQ,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAWE,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMlB,EAAQgB,EAAW,SAAS,MAAM,MAAM,OAE9C,GAAI,CAAChB,EAAO,CACRmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,6BAA6B,CAAE,EACzE,MACH,CAEDF,EAAO,MAAM,QAAU,QAEvBlB,EAAYC,CAAK,EACZ,KAAKM,GAAU,CACRA,EAAO,SAAW,EAClBa,EAAS,KAAK,CAAE,MAAO,OAAQ,QAAS,0EAA0E,CAAE,GAEpHd,EAAaC,CAAM,EACJ,IAAIc,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAC9B,CAAC,EACwB,QAAO,EAEhC,CAAS,EACA,MAAMhB,GAAS,CACZe,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,yCAAyC,CAAE,CACjG,CAAS,EACA,QAAQ,IAAM,CACXF,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}